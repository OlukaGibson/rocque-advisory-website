<section id="contact" class="contact-section">
  <h2>Get in Touch</h2>
  <p class="section-description">Have a question or want to work with us? Send us a message and we'll respond within 24 hours.</p>
  
  <form 
    class="contact-form" 
    (submit)="submitForm(); $event.preventDefault()" 
    autocomplete="on" 
    aria-label="Contact form"
    novalidate>
    
    <label for="name" class="form-label">
      Name *
      @if (!isNameValid() && name()) {
        <span class="error-text" aria-live="polite">Name must be at least 2 characters</span>
      }
    </label>
    <input 
      id="name" 
      type="text" 
      [value]="name()" 
      (input)="updateName($event)" 
      name="name" 
      required 
      aria-required="true"
      [attr.aria-invalid]="!isNameValid() && name() ? 'true' : 'false'"
      [class.invalid]="!isNameValid() && name()"
      autocomplete="name"
      maxlength="100" />

    <label for="email" class="form-label">
      Email *
      @if (!isEmailValid() && email()) {
        <span class="error-text" aria-live="polite">Please enter a valid email address</span>
      }
    </label>
    <input 
      id="email" 
      type="email" 
      [value]="email()" 
      (input)="updateEmail($event)" 
      name="email" 
      required 
      aria-required="true"
      [attr.aria-invalid]="!isEmailValid() && email() ? 'true' : 'false'"
      [class.invalid]="!isEmailValid() && email()"
      autocomplete="email"
      maxlength="100" />

    <label for="message" class="form-label">
      Message *
      @if (!isMessageValid() && message()) {
        <span class="error-text" aria-live="polite">Message must be at least 10 characters</span>
      }
    </label>
    <textarea 
      id="message" 
      [value]="message()" 
      (input)="updateMessage($event)" 
      name="message" 
      rows="4" 
      required 
      aria-required="true"
      [attr.aria-invalid]="!isMessageValid() && message() ? 'true' : 'false'"
      [class.invalid]="!isMessageValid() && message()"
      maxlength="1000"
      placeholder="Tell us about your project or inquiry..."></textarea>

    <button 
      type="submit" 
      class="submit-btn" 
      [disabled]="!canSubmit()"
      [attr.aria-busy]="isSubmitting()">
      @if (isSubmitting()) {
        <span>Sending...</span>
      } @else {
        <span>Send Message</span>
      }
    </button>

    @if (error()) {
      <div class="error-message" role="alert" aria-live="assertive">
        {{ error() }}
      </div>
    }

    @if (submitted()) {
      <div class="success-message" role="alert" aria-live="polite">
        <span class="material-icons">check_circle</span>
        <div>
          <strong>Thank you for contacting us!</strong>
          <p>We will get back to you within 24 hours.</p>
        </div>
      </div>
    }
  </form>
</section>
